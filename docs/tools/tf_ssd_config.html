<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" tensorflow, ssd, config, tf">
<title>TensorFlow SSD config file | Intel® Movidius™ Neural Compute SDK Documentation</title>
<link rel="stylesheet" href="../css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="../css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="../css/customstyles.css">
<link rel="stylesheet" href="../css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="../css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="../js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="../js/toc.js"></script>
<script src="../js/customscripts.js"></script>

<link rel="shortcut icon" href="../images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
    <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>TensorFlow SSD config file</title>
<meta name="generator" content="Jekyll v3.8.1" />
<meta property="og:title" content="TensorFlow SSD config file" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Documentation for the Intel® Movidius™ Neural Compute SDK and Intel® Movidius™ Neural Compute API." />
<meta property="og:description" content="Documentation for the Intel® Movidius™ Neural Compute SDK and Intel® Movidius™ Neural Compute API." />
<link rel="canonical" href="https://movidius.github.io/ncsdk/tools/tf_ssd_config.html" />
<meta property="og:url" content="https://movidius.github.io/ncsdk/tools/tf_ssd_config.html" />
<script type="application/ld+json">
{"description":"Documentation for the Intel® Movidius™ Neural Compute SDK and Intel® Movidius™ Neural Compute API.","@type":"WebPage","url":"https://movidius.github.io/ncsdk/tools/tf_ssd_config.html","headline":"TensorFlow SSD config file","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });
        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="../index.html">&nbsp;<span class="projectTitle"> Intel® Movidius™ Neural Compute SDK</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button 
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
		-->
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://developer.movidius.com/repo" target="_blank">GitHub</a></li>
                
                
                
                <li><a href="https://developer.movidius.com/blog" target="_blank">Blog</a></li>
                
                
                
                <li><a href="https://developer.movidius.com/forums" target="_blank">User Forum</a></li>
                
                
                
                <li><a href="https://developer.movidius.com/examples" target="_blank">NC App Zoo</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="../js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: '../search.json',
                                searchResultTemplate: '<li><a href="https://movidius.github.io/ncsdk{url}" title="">{display}</a></li>',
                    noResultsText: '',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
    <li class="sidebarTitle">NCSDK Documentation </li>
    
    
    
    
    <li>
        <a href="#">Overview</a>
        <ul>
            
            
            
            <li><a href="../index.html">Introduction</a></li>
            
            
            
            
            
            
            <li><a href="../ncs.html">Intel® Movidius™ Neural Compute Stick</a></li>
            
            
            
            
        </ul>
    </li>
    
    
    
    
    
    <li>
        <a href="#">Installation</a>
        <ul>
            
            
            
            <li><a href="../install.html">Basic Installation</a></li>
            
            
            
            <li class="subfolders">
                <a href="#">Other Installation Options</a>
                <ul>
                    
                    
                    
                    <li><a href="../docker.html">Docker</a></li>
                    
                    
                    
                    
                    
                    <li><a href="../virtualenv.html">virtualenv</a></li>
                    
                    
                    
                    
                    
                    <li><a href="../vm_config.html">Virtual Machine</a></li>
                    
                    
                    
                </ul>
            </li>
            
            
            
            
        </ul>
    </li>
    
    
    
    
    
    <li>
        <a href="#">Frameworks</a>
        <ul>
            
            
            
            <li><a href="../configure_network.html">Network Configuration</a></li>
            
            
            
            <li class="subfolders">
                <a href="#">Caffe</a>
                <ul>
                    
                    
                    
                    <li><a href="../caffe.html">Overview</a></li>
                    
                    
                    
                </ul>
            </li>
            
            
            
            <li class="subfolders">
                <a href="#">TensorFlow™</a>
                <ul>
                    
                    
                    
                    <li><a href="../tensorflow.html">Overview</a></li>
                    
                    
                    
                    
                    
                    <li><a href="../tf_compile_guidance.html">Compilation Guidance</a></li>
                    
                    
                    
                    
                    
                    <li><a href="../tf_slim.html">Compiling TensorFlow-Slim Networks</a></li>
                    
                    
                    
                    
                    
                    <li><a href="../tf_modelzoo.html">Compiling Model Zoo Networks</a></li>
                    
                    
                    
                </ul>
            </li>
            
            
            
            
        </ul>
    </li>
    
    
    
    
    
    <li>
        <a href="#">Toolkit</a>
        <ul>
            
            
            
            <li><a href="../tools/tools_overview.html">Toolkit Overview</a></li>
            
            
            
            
            
            
            <li><a href="../tools/compile.html">mvNCCompile</a></li>
            
            
            
            
            
            
            <li><a href="../tools/check.html">mvNCCheck</a></li>
            
            
            
            
            
            
            <li><a href="../tools/profile.html">mvNCProfile</a></li>
            
            
            
            
        </ul>
    </li>
    
    
    
    
    
    <li>
        <a href="#">API</a>
        <ul>
            
            
            
            <li><a href="../ncapi/readme.html">Overview</a></li>
            
            
            
            <li class="subfolders">
                <a href="#">NCAPI v2</a>
                <ul>
                    
                    
                    
                    <li><a href="../ncapi/ncapi2/py_api/readme.html">Python</a></li>
                    
                    
                    
                    
                    
                    <li><a href="../ncapi/ncapi2/c_api/readme.html">C/C++</a></li>
                    
                    
                    
                </ul>
            </li>
            
            
            
            <li class="subfolders">
                <a href="#">NCAPI v1</a>
                <ul>
                    
                    
                    
                    <li><a href="../ncapi/ncapi1/py_api/readme.html">Python</a></li>
                    
                    
                    
                    
                    
                    <li><a href="../ncapi/ncapi1/c_api/readme.html">C/C++</a></li>
                    
                    
                    
                </ul>
            </li>
            
            
            
            <li class="subfolders">
                <a href="#">NCAPI v1 to NCAPI v2 Conversion</a>
                <ul>
                    
                    
                    
                    <li><a href="../ncapi/python_api_migration.html">Python</a></li>
                    
                    
                    
                    
                    
                    <li><a href="../ncapi/c_api_migration.html">C/C++</a></li>
                    
                    
                    
                </ul>
            </li>
            
            
            
            
        </ul>
    </li>
    
    
    
    
    
    
    <li class="singlenav">
    
    <a href="../examples.html">Examples</a>
    </li>
    
    
    
    
    
    
    <li class="singlenav">
    
    <a href="../release_notes.html">Release Notes</a>
    </li>
    
    
    
    
    
    
    <li class="singlenav">
    
    <a href="../support.html">Support</a>
    </li>
    
    
    
    
    <!-- if you aren't using the accordion, uncomment this block:
       <p class="external">
           <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
       </p>
       -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <h1 id="tensorflow-ssd-config-file">TensorFlow SSD config file</h1>

<h2 id="overview">Overview</h2>

<p>In order to use TensorFlow* SSD networks with the NCSDK Toolkit commands (<a href="compile.html">mvNCCompile</a>, <a href="check.html">mvNCCheck</a>, <a href="profile.html">mvNCProfile</a>), users will need to create a new config file and use the <code class="highlighter-rouge">--tf-ssd-config</code> option with the associated command.</p>

<h2 id="ncsdk-ssd-config-file-example">NCSDK SSD Config File Example</h2>

<p>Here is an example of an NCSDK compatible TensorFlow SSD config file that shows how to set the different parameters:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>input_height: 300
input_width: 300

postprocessing_params {
    num_classes: 91
    background_label_id: 0
    max_detections: 100

    nms_params {
        score_threshold: 0.300000011921
        iou_threshold: 0.600000023842
        max_detections_per_class: 100
    }

    box_params {
        var: 0.1
        var: 0.1
        var: 0.2
        var: 0.2
  }
}

score_converter: SIGMOID
</code></pre></div></div>

<p>The NCSDK SSD config file contains information relevent to the network:</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>input_height</td>
      <td>Input height of the network.</td>
    </tr>
    <tr>
      <td>input_width</td>
      <td>Input width of the network.</td>
    </tr>
    <tr>
      <td>num_classes</td>
      <td>Number of different labels/objects that the model will be able to detect. Includes the background label.</td>
    </tr>
    <tr>
      <td>background_label_id</td>
      <td>Id of the background label.</td>
    </tr>
    <tr>
      <td>max_detections</td>
      <td>Total number of objects that can be detected in a single image.</td>
    </tr>
    <tr>
      <td>score_threshold</td>
      <td>Minimum score for detected objects. The model will ignore all detected objects with a score lower than the specified threshold. Scores range from 0.0 to 1.0.</td>
    </tr>
    <tr>
      <td>iou_threshold</td>
      <td>Intersection over union threshold value. Used to eliminate potential duplicate objects that are detected.</td>
    </tr>
    <tr>
      <td>box_param</td>
      <td>Variance of the bounding box. This affects the size and position of the bounding boxes. <br /><br /> 1. The first value (0.1 in the example) is the variance for the Y position for the center of the boxes. <br /> 2. The second value (0.1 in the example) is the variance for the X position for the center of the boxes. <br /> 3. The third value (0.2 in the example) is the variance for the height of the boxes. <br /> 4. The fourth value (0.2 in the example) is the variance for the width of the boxes. <br /><br /> <strong>Note:</strong> If you use other values than those in the example, you may want to also adjust the iou_threshold value since the box overlaps wil be affected.</td>
    </tr>
    <tr>
      <td>score_converter</td>
      <td>Function that will convert/normalize the output scores. Available options: SIGMOID, SOFTMAX.</td>
    </tr>
  </tbody>
</table>

<h4 id="example-of-a-mvnccheck-command-using-the-tf-ssd-config-option">Example of a mvNCCheck command using the –tf-ssd-config option:</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvNCCheck <span class="nt">-s</span> 12 frozen_inference_graph.pb <span class="nt">--tf-ssd-config</span> ssd_mob.config <span class="nt">-i</span> 300_Cellphone.jpg <span class="nt">-cs</span> 0,1,2 <span class="nt">-M</span> <span class="s2">"123,117,104"</span> <span class="nt">-S</span> 255
</code></pre></div></div>
<p><strong>NOTE:</strong>  In order to use mvNCCheck with a TensorFlow SSD network, an image must be specified as input. This image must also be the same input resolution as required by the TensorFlow SSD network. The following Python code snippet may be useful in resizing an image to be used with mvNCCheck.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">cv2</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s">'IMAGE_FILENAME.jpg'</span><span class="p">)</span>
<span class="n">new_img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">))</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imwrite</span><span class="p">(</span><span class="s">'NEW_FILENAME.jpg'</span><span class="p">,</span> <span class="n">new_img</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="example-of-a-mvnccompile-command-using-the-tf-ssd-config-option">Example of a mvNCCompile command using the –tf-ssd-config option:</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvNCCompile <span class="nt">-s</span> 12 frozen_inference_graph.pb <span class="nt">--tf-ssd-config</span> ssd_mob.config
</code></pre></div></div>

<h4 id="example-of-a-mvncprofile-command-using-the-tf-ssd-config-option">Example of a mvNCProfile command using the –tf-ssd-config option:</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvNCProfile <span class="nt">-s</span> 12 frozen_inference_graph.pb <span class="nt">--tf-ssd-config</span> ssd_mob.config 
</code></pre></div></div>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2019 Intel Corporation <br />
                    * Other names and brands may be claimed as the property of others.
                </div>
            </div>
</footer>

</html>
